{"version":3,"sources":["glass.wav","logo.svg","App.js","reportWebVitals.js","index.js"],"names":["audio1","Audio","audio_path","audio2","url","s","process","KittyWalk","useState","time","set_time","left","set_left","secs","step","Math","round","x","angle","cw","useEffect","last","Date","getTime","intvl","setInterval","t","clearInterval","src","console","log","className","height","style","Timer","set_last","paused","set_paused","on_break","set_on_break","new_time","play","setTimeout","diff","sec","min","to_str","n","toString","padStart","onClick","width","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"uNAAe,GCAA,I,MDAA,IAA0B,mCEKrCA,EAAS,IAAIC,MAAMC,GACnBC,EAAS,IAAIF,MAAMC,GAMnBE,EAAM,SAAAC,GAAC,MAAIC,YAAyBD,GAEpCE,EAAY,WAAO,IAAD,IACGC,mBAAS,GADZ,mBACfC,EADe,KACTC,EADS,OAEGF,oBAAS,GAFZ,mBAEfG,EAFe,KAETC,EAFS,KAOhBC,EAAOJ,EAAO,IACdK,EAAOC,KAAKC,MAAMH,EAHL,IAIbI,EALa,GAKTH,EACJI,EAAQJ,EAAO,GAAK,GAAK,GAAK,EAI9BG,GAAKE,MACPP,GAAUD,GACVD,EAAS,IAGXU,qBAAU,WACR,IAAIC,GAAO,IAAIC,MAAOC,UAClBC,EAAQC,aAAY,WACtB,IAAIC,GAAI,IAAIJ,MAAOC,UACnBb,EAASD,EAAOiB,EAAIL,GACpBA,EAAOK,IACN,IA9BY,IAgCf,OAAO,kBAAMC,cAAcH,MAC1B,CAACf,EAAME,IAEV,IAAIiB,EAAMxB,EAAIO,EAAO,YAAc,gBAGnC,OAFAkB,QAAQC,IAAIF,GAEL,qBAAKG,UAAU,aAAf,SACL,qBAAKA,UAAU,QAAQH,IAAKA,EAAKI,OAAO,MAAMC,OAAK,mBAChDtB,EAAO,OAAS,QAAUM,GADsB,2CAE5BC,EAF4B,4BAOnDgB,EAAQ,WAAO,IAAD,EACO1B,oBAAS,IAAIc,MAAOC,WAD3B,mBACXF,EADW,KACLc,EADK,OAEO3B,mBAAS,GAFhB,mBAEXC,EAFW,KAELC,EAFK,OAGWF,oBAAS,GAHpB,mBAGX4B,EAHW,KAGHC,EAHG,OAIe7B,oBAAS,GAJxB,mBAIX8B,EAJW,KAIDC,EAJC,KAMhBnB,qBAAU,WACR,IAAII,EAAQC,aAAY,WACtB,IAAIC,GAAI,IAAIJ,MAAOC,UACnB,IAAKa,EAAQ,CACX,IAAII,EAAW/B,EAAOiB,EAAIL,EAC1BX,EAAS8B,GAELA,EAAW,IA1DC,IA0D0BF,IACxCC,GAAa,GACbF,GAAW,GAGTrC,EAAOyC,OACPC,YAAW,WAAOvC,EAAOsC,SAAS,MAIxCN,EAAST,KACR,IAtEY,IAwEf,OAAO,kBAAMC,cAAcH,MAC1B,CAACY,EAAQE,IAEZ,IAAIK,EAAOlC,EAAO,IACdmC,EAAM7B,KAAKC,MAAM2B,EAAO,IACxBE,EAAM9B,KAAKC,MAAM2B,EAAO,GAAK,IAE7BG,EAAS,SAAAC,GAAC,OAAIA,EAAEC,WAAWC,SAAS,EAAG,MAE3C,OAAO,8BACHX,EAeE,qCACA,qBAAKP,UAAU,aAAf,yBACA,qBAAKA,UAAU,eAAf,SAA8B,wBAAQmB,QAAS,WAC7CxC,EAAS,GACTyB,GAAS,IAAIb,MAAOC,WACpBc,GAAW,GACXE,GAAa,IAJe,+BAM9B,qBAAKX,IAAKxB,EAAI,oBAAqB+C,MAAM,YAtBzC,qCACA,qBAAKpB,UAAU,eAAf,mBACMe,EAAOD,GADb,YACqBC,EAAOF,MAE5B,sBAAKb,UAAU,UAAf,UACE,wBAAQmB,QAAS,kBAAMb,GAAYD,IAAnC,SAA6CA,EAAS,QAAU,UAChE,wBAAQc,QAAS,YACC,IAAI5B,MAAOC,UAC3Bb,EAAS,GACT2B,GAAW,IAHb,sBAMAD,EAAyB,KAAhB,cAAC,EAAD,UAyBJgB,MATf,WACE,OACE,sBAAKrB,UAAU,YAAf,UACE,0CACA,cAAC,EAAD,QChHSsB,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,OCDdQ,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SAM1Bb,M","file":"static/js/main.e92c28a5.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/glass.2fcb9874.wav\";","export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","import {useState, useEffect} from 'react';\nimport logo from './logo.svg';\nimport './App.css';\nimport audio_path from './glass.wav';\n\nlet audio1 = new Audio(audio_path);\nlet audio2 = new Audio(audio_path);\n\nconst PLAY_AUDIO = true;\nconst frame_rate = 30;\nconst break_threshold = 2;\n\nlet url = s => process.env.PUBLIC_URL + s;\n\nlet KittyWalk = () => {\n  let [time, set_time] = useState(0);\n  let [left, set_left] = useState(true);\n\n  let px_per_sec = 40;\n  let anim_speed = 0.6;\n\n  let secs = time / 1000;\n  let step = Math.round(secs / anim_speed);\n  let x = step * px_per_sec;\n  let angle = step % 2 == 0 ? -15 : 5;\n\n  let cw = 600;\n  let iw = 160;\n  if (x >= cw - iw / 2) {\n    set_left(!left);\n    set_time(0);\n  }\n\n  useEffect(() => {\n    let last = new Date().getTime();\n    let intvl = setInterval(() => {\n      let t = new Date().getTime();\n      set_time(time + t - last);\n      last = t;\n    }, 1000 / frame_rate);\n\n    return () => clearInterval(intvl);\n  }, [time, left]);\n\n  let src = url(left ? \"/mimi.png\" : \"/naibang.png\");\n  console.log(src);\n\n  return <div className='kitty-walk'>\n    <img className='kitty' src={src} height=\"100\" style={{\n      [left ? \"left\" : \"right\"]: x,\n      transform: `rotate(${angle}deg) scaleX(-1)`\n    }}/>\n  </div>;\n}\n\nlet Timer = () => {\n  let [last, set_last] = useState(new Date().getTime());\n  let [time, set_time] = useState(0);\n  let [paused, set_paused] = useState(true);\n  let [on_break, set_on_break] = useState(false);\n\n  useEffect(() => {\n    let intvl = setInterval(() => {\n      let t = new Date().getTime();\n      if (!paused) {\n        let new_time = time + t - last;\n        set_time(new_time);\n\n        if (new_time / 1000 > break_threshold && !on_break) {\n          set_on_break(true);\n          set_paused(true);\n\n          if (PLAY_AUDIO) {\n            audio1.play();\n            setTimeout(() => {audio2.play()}, 200);\n          }\n        }\n      }\n      set_last(t);\n    }, 1000 / frame_rate);\n\n    return () => clearInterval(intvl);\n  }, [paused, on_break]);\n\n  let diff = time / 1000;\n  let sec = Math.round(diff % 60);\n  let min = Math.round(diff / 60 % 60);\n\n  let to_str = n => n.toString().padStart(2, \"0\");\n\n  return <div>\n    {!on_break\n      ? <>\n        <div className='current-time'>\n          {`${to_str(min)}:${to_str(sec)}`}\n        </div>\n        <div className='buttons'>\n          <button onClick={() => set_paused(!paused)}>{paused ? \"Start\" : \"Pause\"}</button>\n          <button onClick={() => {\n            let new_start = new Date().getTime();\n            set_time(0);\n            set_paused(true);\n          }}>Reset</button>\n        </div>\n        {!paused ? <KittyWalk /> : null}\n      </>\n      : <>\n        <div className='break-time'>Break time!</div>\n        <div className='back-to-work'><button onClick={() => {\n          set_time(0);\n          set_last(new Date().getTime());\n          set_paused(false);\n          set_on_break(false);\n        }}>Back to work...</button></div>\n        <img src={url(\"/bothkitties.png\")} width=\"100%\" />\n      </>}\n  </div>;\n};\n\n\nfunction App() {\n  return (\n    <div className=\"container\">\n      <h1>Tetedoro</h1>\n      <Timer />\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}